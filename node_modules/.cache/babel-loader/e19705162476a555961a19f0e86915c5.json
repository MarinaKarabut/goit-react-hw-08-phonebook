{"ast":null,"code":"import _defineProperty from\"/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{addContact}from'../../../../redux/contacts/contacts-operations';import{getContacts}from'../../../../redux/contacts/selectors';import FormField from'../../../../shared/components/FormField';import Button from'../../../../shared/components/Button';import{fields}from\"./fields\";import{initialState}from\"./initialState\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ContactForm=/*#__PURE__*/function(_Component){_inherits(ContactForm,_Component);var _super=_createSuper(ContactForm);function ContactForm(){var _this;_classCallCheck(this,ContactForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_objectSpread({},initialState);_this.handleChange=function(_ref){var target=_ref.target;var name=target.name,value=target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,name=_this$state.name,number=_this$state.number;var contacts=_this.props.contacts;var findContact=contacts.find(function(contact){return contact.name.toLowerCase()===name.toLowerCase()||contact.number===number;});if(!findContact){_this.props.onSubmit(name,number);_this.reset();return;}alert(\"\".concat(name,\"  is already in contacts!\"));};_this.reset=function(){_this.setState(_objectSpread({},initialState));};return _this;}_createClass(ContactForm,[{key:\"render\",value:function render(){var _this$state2=this.state,name=_this$state2.name,number=_this$state2.number;var handleChange=this.handleChange,handleSubmit=this.handleSubmit;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormField,_objectSpread(_objectSpread({},fields.username),{},{value:name,onChange:handleChange})),/*#__PURE__*/_jsx(FormField,_objectSpread(_objectSpread({},fields.phone),{},{value:number,onChange:handleChange})),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Add contact\"})]});}}]);return ContactForm;}(Component);;var mapStateToProps=function mapStateToProps(state){return{contacts:getContacts(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onSubmit:function onSubmit(name,number){return dispatch(addContact(name,number));}};};export default connect(mapStateToProps,mapDispatchToProps)(ContactForm);","map":{"version":3,"sources":["/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/src/client/Contacts/components/ContactForm/ContactForm.jsx"],"names":["React","Component","connect","addContact","getContacts","FormField","Button","fields","initialState","ContactForm","state","handleChange","target","name","value","setState","handleSubmit","e","preventDefault","number","contacts","props","findContact","find","contact","toLowerCase","onSubmit","reset","alert","username","phone","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"moCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,gDAA3B,CACA,OAAQC,WAAR,KAA0B,sCAA1B,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yCAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CAGA,OAAQC,MAAR,KAAqB,UAArB,CAGA,OAAQC,YAAR,KAA2B,gBAA3B,C,2FAEMC,CAAAA,W,+UACFC,K,kBAAaF,Y,QAGbG,Y,CAAe,cAAc,IAAZC,CAAAA,MAAY,MAAZA,MAAY,CACzB,GAAOC,CAAAA,IAAP,CAAsBD,MAAtB,CAAOC,IAAP,CAAaC,KAAb,CAAsBF,MAAtB,CAAaE,KAAb,CACA,MAAKC,QAAL,oBAAgBF,IAAhB,CAAuBC,KAAvB,GACH,C,OAEDE,Y,CAAe,SAACC,CAAD,CAAO,CAClBA,CAAC,CAACC,cAAF,GACA,gBAAyB,MAAKR,KAA9B,CAAQG,IAAR,aAAQA,IAAR,CAAcM,MAAd,aAAcA,MAAd,CACA,GAAQC,CAAAA,QAAR,CAAqB,MAAKC,KAA1B,CAAQD,QAAR,CACA,GAAME,CAAAA,WAAW,CAAGF,QAAQ,CAACG,IAAT,CAAc,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACX,IAAR,CAAaY,WAAb,KAAgCZ,IAAI,CAACY,WAAL,EAAhC,EAAsDD,OAAO,CAACL,MAAR,GAAmBA,MAA7E,EAArB,CAApB,CACA,GAAI,CAACG,WAAL,CAAkB,CACd,MAAKD,KAAL,CAAWK,QAAX,CAAoBb,IAApB,CAA0BM,MAA1B,EACA,MAAKQ,KAAL,GACA,OACH,CACDC,KAAK,WAAIf,IAAJ,8BAAL,CAEH,C,OAEDc,K,CAAQ,UAAM,CACV,MAAKZ,QAAL,kBAAkBP,YAAlB,GACH,C,6DAED,iBAAQ,CACJ,iBAAuB,KAAKE,KAA5B,CAAOG,IAAP,cAAOA,IAAP,CAAaM,MAAb,cAAaA,MAAb,CACA,GAAOR,CAAAA,YAAP,CAAoC,IAApC,CAAOA,YAAP,CAAqBK,YAArB,CAAoC,IAApC,CAAqBA,YAArB,CAEA,mBACI,cAAO,QAAQ,CAAEA,YAAjB,wBACI,KAAC,SAAD,gCAAeT,MAAM,CAACsB,QAAtB,MAAgC,KAAK,CAAEhB,IAAvC,CAA6C,QAAQ,CAAEF,YAAvD,GADJ,cAEI,KAAC,SAAD,gCAAeJ,MAAM,CAACuB,KAAtB,MAA6B,KAAK,CAAEX,MAApC,CAA4C,QAAQ,CAAER,YAAtD,GAFJ,cAGI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,yBAHJ,GADJ,CAOH,C,yBAtCsBV,S,EAuC1B,CAED,GAAM8B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACrB,KAAD,QAAY,CAChCU,QAAQ,CAAEhB,WAAW,CAACM,KAAD,CADW,CAAZ,EAAxB,CAKA,GAAMsB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,QAAe,CACtCP,QAAQ,CAAE,kBAACb,IAAD,CAAOM,MAAP,QAAkBc,CAAAA,QAAQ,CAAC9B,UAAU,CAACU,IAAD,CAAOM,MAAP,CAAX,CAA1B,EAD4B,CAAf,EAA3B,CAIA,cAAejB,CAAAA,OAAO,CAAC6B,eAAD,CAAkBC,kBAAlB,CAAP,CAA6CvB,WAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { addContact } from '../../../../redux/contacts/contacts-operations'\nimport {getContacts} from '../../../../redux/contacts/selectors'\n\nimport FormField from '../../../../shared/components/FormField'\nimport Button from '../../../../shared/components/Button'\n\n\nimport {fields} from \"./fields\";\n\n\nimport {initialState} from \"./initialState\"\n\nclass ContactForm extends  Component {\n    state = { ...initialState }\n    \n\n    handleChange = ({target}) => {\n        const {name, value} = target\n        this.setState({[name]: value})\n    }\n        \n    handleSubmit = (e) => {\n        e.preventDefault()\n        const { name, number } = this.state;\n        const { contacts } = this.props\n        const findContact = contacts.find(contact => contact.name.toLowerCase() ===  name.toLowerCase() || contact.number === number)\n        if (!findContact) {\n            this.props.onSubmit(name, number)\n            this.reset()\n            return\n        }\n        alert(`${name}  is already in contacts!` )\n        \n    }\n\n    reset = () => {\n        this.setState({...initialState})\n    }\n\n    render(){\n        const {name, number} = this.state;\n        const {handleChange, handleSubmit} =this;\n        \n        return (\n            <form  onSubmit={handleSubmit}>\n                <FormField {...fields.username} value={name} onChange={handleChange} />\n                <FormField {...fields.phone} value={number} onChange={handleChange} />\n                <Button type=\"submit\">Add contact</Button>\n          </form>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => ({\n    contacts: getContacts(state)\n    \n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    onSubmit: (name, number) => dispatch(addContact(name, number))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactForm);\n\n"]},"metadata":{},"sourceType":"module"}