{"ast":null,"code":"import axios from 'axios';\nimport actions from './auth-actions';\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n\n};\nexport const register = credentials => async dispatch => {\n  dispatch(actions.registerRequest());\n\n  try {\n    const {\n      data\n    } = await axios.post('/users/signup', credentials);\n    token.set(data.token);\n    dispatch(actions.registerSuccess(data));\n  } catch (error) {\n    dispatch(actions.registerError(error.message));\n  }\n};\nexport const logIn = credentials => async dispatch => {\n  dispatch(actions.loginRequest());\n\n  try {\n    const {\n      data\n    } = await axios.post('/users/login', credentials);\n    token.set(data.token);\n    dispatch(actions.loginSuccess(data));\n  } catch (error) {\n    dispatch(actions.loginError(error.message));\n  }\n};\nexport const logOut = () => async dispatch => {\n  dispatch(actions.logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n    token.unset();\n    dispatch(actions.loginSuccess());\n  } catch (error) {\n    dispatch(actions.logoutError(error.message));\n  }\n};\nexport const getCurrentUser = () => dispatch => {};","map":{"version":3,"sources":["/Users/marina/Frontend/projects/js-react-projects/goit-react-hw-08-phonebook/src/redux/auth/auth-operations.js"],"names":["axios","actions","defaults","baseURL","token","set","headers","common","Authorization","unset","register","credentials","dispatch","registerRequest","data","post","registerSuccess","error","registerError","message","logIn","loginRequest","loginSuccess","loginError","logOut","logoutRequest","logoutError","getCurrentUser"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,gBAApB;AAEAD,KAAK,CAACE,QAAN,CAAeC,OAAf,GAAyB,uCAAzB;AAEA,MAAMC,KAAK,GAAG;AACZC,EAAAA,GAAG,CAACD,KAAD,EAAQ;AACTJ,IAAAA,KAAK,CAACE,QAAN,CAAeI,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA+C,UAASJ,KAAM,EAA9D;AACD,GAHW;;AAIZK,EAAAA,KAAK,GAAG;AACNT,IAAAA,KAAK,CAACE,QAAN,CAAeI,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA8C,EAA9C;AACD;;AANW,CAAd;AASA,OAAO,MAAME,QAAQ,GAAGC,WAAW,IAAI,MAAMC,QAAN,IAAkB;AACvDA,EAAAA,QAAQ,CAACX,OAAO,CAACY,eAAR,EAAD,CAAR;;AAEA,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMd,KAAK,CAACe,IAAN,CAAW,eAAX,EAA4BJ,WAA5B,CAAvB;AAEAP,IAAAA,KAAK,CAACC,GAAN,CAAUS,IAAI,CAACV,KAAf;AAEAQ,IAAAA,QAAQ,CAACX,OAAO,CAACe,eAAR,CAAwBF,IAAxB,CAAD,CAAR;AACD,GAND,CAME,OAAOG,KAAP,EAAc;AACdL,IAAAA,QAAQ,CAACX,OAAO,CAACiB,aAAR,CAAsBD,KAAK,CAACE,OAA5B,CAAD,CAAR;AACD;AACF,CAZM;AAcP,OAAO,MAAMC,KAAK,GAAGT,WAAW,IAAI,MAAMC,QAAN,IAAkB;AACpDA,EAAAA,QAAQ,CAACX,OAAO,CAACoB,YAAR,EAAD,CAAR;;AAEA,MAAI;AACF,UAAM;AAAEP,MAAAA;AAAF,QAAW,MAAMd,KAAK,CAACe,IAAN,CAAW,cAAX,EAA2BJ,WAA3B,CAAvB;AAEAP,IAAAA,KAAK,CAACC,GAAN,CAAUS,IAAI,CAACV,KAAf;AAEAQ,IAAAA,QAAQ,CAACX,OAAO,CAACqB,YAAR,CAAqBR,IAArB,CAAD,CAAR;AACD,GAND,CAME,OAAOG,KAAP,EAAc;AACdL,IAAAA,QAAQ,CAACX,OAAO,CAACsB,UAAR,CAAmBN,KAAK,CAACE,OAAzB,CAAD,CAAR;AACD;AACF,CAZM;AAcP,OAAO,MAAMK,MAAM,GAAG,MAAM,MAAMZ,QAAN,IAAkB;AAC5CA,EAAAA,QAAQ,CAACX,OAAO,CAACwB,aAAR,EAAD,CAAR;;AAEA,MAAI;AACF,UAAMzB,KAAK,CAACe,IAAN,CAAW,eAAX,CAAN;AAEAX,IAAAA,KAAK,CAACK,KAAN;AACAG,IAAAA,QAAQ,CAACX,OAAO,CAACqB,YAAR,EAAD,CAAR;AACD,GALD,CAKE,OAAOL,KAAP,EAAc;AACdL,IAAAA,QAAQ,CAACX,OAAO,CAACyB,WAAR,CAAoBT,KAAK,CAACE,OAA1B,CAAD,CAAR;AACD;AACF,CAXM;AAaP,OAAO,MAAMQ,cAAc,GAAG,MAAMf,QAAQ,IAAI,CAAE,CAA3C","sourcesContent":["import axios from 'axios';\n\nimport actions from './auth-actions';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const register = credentials => async dispatch => {\n  dispatch(actions.registerRequest());\n\n  try {\n    const { data } = await axios.post('/users/signup', credentials);\n\n    token.set(data.token);\n\n    dispatch(actions.registerSuccess(data));\n  } catch (error) {\n    dispatch(actions.registerError(error.message));\n  }\n};\n\nexport const logIn = credentials => async dispatch => {\n  dispatch(actions.loginRequest());\n\n  try {\n    const { data } = await axios.post('/users/login', credentials);\n\n    token.set(data.token);\n\n    dispatch(actions.loginSuccess(data));\n  } catch (error) {\n    dispatch(actions.loginError(error.message));\n  }\n};\n\nexport const logOut = () => async dispatch => {\n  dispatch(actions.logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(actions.loginSuccess());\n  } catch (error) {\n    dispatch(actions.logoutError(error.message));\n  }\n};\n\nexport const getCurrentUser = () => dispatch => {};\n"]},"metadata":{},"sourceType":"module"}